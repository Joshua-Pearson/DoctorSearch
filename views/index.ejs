<% include layout %>
  <body ng-app="DoctorApp">
    <div ng-controller="mapCtrl">
      <button class="col-md-2 btn btn-success" ng-click="map.refresh()">Refresh Map</button>
      
      <google-map center="map.center" zoom="map.zoom" draggable="true" dragging="map.dragging" events="map.events" control="map.control" styles="map.styles">
      
      <markers models="map.markers" class="pins" coords="'self'" click="'onClick'" events="markersEvents" options="markersOptions">

        <windows show="'showWindow'" class="infoWindow" closeClick="'closeClick'" ng-cloak="" options="map.windowOptions">
          <div id="popup" style="padding:5px">
            <h4 ng-non-bindable>{{name}}</h4>
            <p>
              <img ng-non-bindable src={{icon}}/>
            </p>
            <p>
              <strong>Address</strong>
              <span ng-non-bindable>{{address}}</span>
            </p>
          </div>
        </windows>
      
      </markers>              
      
      </google-map>
      

       <button class="btn" ng-click="getBlueCrossDoctors()">Fill up the map</button>
       <button class="btn" ng-click="clearMap()">Get Rid of IT!</button>
       <button class="btn" ng-click="doSomething()">DO</button>
       <div ng-repeat="m in map.markers track by $index" ng-mouseover="displayName(doctor)">{{m.name}}</div>
    </div>
    <div ng-controller="mainCtrl">
        {{1+3}}
      <button class="btn" ng-click="getAllDoctors()">Click me</button>
      <div ng-repeat="doctor in doctors track by $index">
        {{doctor.latitude}}, - {{doctor.longitude}}
      </div>
    </div>

  </body>

</html>